(()=>{"use strict";var e={2947:function(e,t,l){let a,o;var n,i,r,s,u,c,d,v=l("8026"),m=l.n(v),g=l("903"),w=l.n(g),f=l("1578"),p=l("8338"),h=l("7916"),b=l("1816"),_=l("2775"),y=l("2530"),S=l("4094"),k=l("8861");let x=async e=>{try{let t=await fetch("https://raw.githubusercontent.com/double2kill/new-tab-extension/master/manifest.json");if(!t.ok)throw Error(`GitHub manifest error: ${t.status}`);let l=(await t.json()).version;return{hasUpdate:C(l,e)>0,latestVersion:l,currentVersion:e,releaseUrl:"https://github.com/double2kill/new-tab-extension",publishedAt:new Date().toISOString()}}catch(t){return console.error("\u68C0\u67E5\u66F4\u65B0\u5931\u8D25:",t),{hasUpdate:!1,latestVersion:e,currentVersion:e,releaseUrl:"",publishedAt:""}}},C=(e,t)=>{let l=e.split(".").map(Number),a=t.split(".").map(Number);for(let e=0;e<Math.max(l.length,a.length);e++){let t=l[e]||0,o=a[e]||0;if(t>o)return 1;if(t<o)return -1}return 0},U=()=>{try{let e=localStorage.getItem("new-tab.update-info");return e?JSON.parse(e):null}catch{return null}},T=e=>{try{localStorage.setItem("new-tab.update-info",JSON.stringify(e))}catch(e){console.error("\u4FDD\u5B58\u66F4\u65B0\u4FE1\u606F\u5931\u8D25:",e)}},M=e=>((0,f.dD)("data-v-7c33ed5a"),e=e(),(0,f.Cn)(),e),H={class:"py-5"},L={class:"text-center mb-8 p-5 bg-gradient-to-br from-gray-50 to-blue-100 rounded-2xl shadow-lg"},Z=M(()=>(0,f._)("div",{class:"mb-4 text-blue-500"},[(0,f._)("svg",{viewBox:"0 0 24 24",width:"48",height:"48",fill:"currentColor"},[(0,f._)("path",{d:"M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2M12,4A8,8 0 0,1 20,12A8,8 0 0,1 12,20A8,8 0 0,1 4,12A8,8 0 0,1 12,4M12,6A6,6 0 0,0 6,12A6,6 0 0,0 12,18A6,6 0 0,0 18,12A6,6 0 0,0 12,6M12,8A4,4 0 0,1 16,12A4,4 0 0,1 12,16A4,4 0 0,1 8,12A4,4 0 0,1 12,8Z"})])],-1)),A=M(()=>(0,f._)("div",{class:"text-3xl font-bold text-gray-800 mb-2 tracking-tight"},"New Tab Extension",-1)),W={class:"my-3 flex flex-col gap-1.5 items-center"},D={class:"text-lg text-gray-600 font-mono font-semibold bg-white/80 px-3 py-1 rounded-full inline-block my-2"},I={class:"flex items-center gap-2 text-xs text-gray-500 bg-white/60 px-2.5 py-1 rounded-xl backdrop-blur-sm"},z=M(()=>(0,f._)("span",{class:"font-semibold text-gray-600"},"Build:",-1)),F={class:"font-mono font-medium text-gray-800"},j={key:0,class:"bg-gradient-to-br from-blue-500 to-purple-600 rounded-2xl p-5 mb-6 text-white text-center shadow-xl relative overflow-hidden"},B=M(()=>(0,f._)("div",{class:"absolute inset-0 bg-gradient-to-br from-blue-500 to-purple-600 opacity-10 animate-pulse"},null,-1)),P={class:"mb-3 relative z-10"},V=M(()=>(0,f._)("div",{class:"text-base font-bold mb-2 text-white drop-shadow"},"\u6709\u65B0\u7248\u672C\u53EF\u7528",-1)),O={class:"mb-3"},E={class:"text-sm mb-1 opacity-95 font-medium"},N={class:"text-xs opacity-85"},Y=M(()=>(0,f._)("svg",{viewBox:"0 0 24 24",width:"16",height:"16",fill:"currentColor"},[(0,f._)("path",{d:"M14,3V7H17.59L7.76,16.83L9.17,18.24L19,8.41V12H23V3M19,19H5V5H12V1H5A2,2 0 0,0 3,3V19A2,2 0 0,0 5,21H19A2,2 0 0,0 21,19V12H19V19Z"})],-1)),R={class:"bg-gradient-to-br from-green-50 to-emerald-100 rounded-2xl p-5 text-center shadow-lg"},$=M(()=>(0,f._)("div",{class:"mb-3"},[(0,f._)("div",{class:"text-base font-bold mb-2 text-gray-800"},"\u6570\u636E\u7BA1\u7406"),(0,f._)("div",{class:"text-sm text-gray-600 mb-4"},"\u5BFC\u51FA\u6269\u5C55\u7684\u6240\u6709\u672C\u5730\u5B58\u50A8\u6570\u636E")],-1)),q={class:"flex gap-3 justify-center"},K=M(()=>(0,f._)("svg",{viewBox:"0 0 24 24",width:"16",height:"16",fill:"currentColor"},[(0,f._)("path",{d:"M14,2H6A2,2 0 0,0 4,4V20A2,2 0 0,0 6,22H18A2,2 0 0,0 20,20V8L14,2M18,20H6V4H13V9H18V20Z"})],-1)),G=M(()=>(0,f._)("svg",{viewBox:"0 0 24 24",width:"16",height:"16",fill:"currentColor"},[(0,f._)("path",{d:"M14,2H6A2,2 0 0,0 4,4V20A2,2 0 0,0 6,22H18A2,2 0 0,0 20,20V8L14,2M18,20H6V4H13V9H18V20Z"})],-1)),J=(0,f.aZ)({__name:"About",emits:["update-status"],setup(e,t){let{expose:l,emit:a}=t,o=(0,f.iH)(!1),n=(0,f.iH)(!1),i=(0,f.iH)(null),r="1.1.3",s=async()=>{o.value=!0,await u()},u=async()=>{let e=await x(r);n.value=e.hasUpdate,i.value=e,T(e),localStorage.setItem("new-tab.last-update-check",Date.now().toString()),a("update-status",n.value)},c=()=>{var e;(null===(e=i.value)||void 0===e?void 0:e.releaseUrl)&&window.open(i.value.releaseUrl,"_blank")},d=()=>{let e={};for(let t=0;t<localStorage.length;t++){let l=localStorage.key(t);if(l)try{e[l]=JSON.parse(localStorage.getItem(l)||"")}catch{e[l]=localStorage.getItem(l)}}let t=new Blob([JSON.stringify(e,null,2)],{type:"application/json"}),l=URL.createObjectURL(t),a=document.createElement("a");a.href=l,a.download=`new-tab-extension-data-${new Date().toISOString().split("T")[0]}.json`,document.body.appendChild(a),a.click(),document.body.removeChild(a),URL.revokeObjectURL(l)},v=()=>{let e=document.createElement("input");e.type="file",e.accept=".json",e.onchange=e=>{var t;let l=null===(t=e.target.files)||void 0===t?void 0:t[0];if(l){let e=new FileReader;e.onload=e=>{try{var t;let l=JSON.parse(null===(t=e.target)||void 0===t?void 0:t.result);Object.keys(l).forEach(e=>{"object"==typeof l[e]?localStorage.setItem(e,JSON.stringify(l[e])):localStorage.setItem(e,String(l[e]))}),alert("\u6570\u636E\u5BFC\u5165\u6210\u529F\uFF01"),location.reload()}catch(e){alert("\u5BFC\u5165\u5931\u8D25\uFF1A\u6587\u4EF6\u683C\u5F0F\u9519\u8BEF")}},e.readAsText(l)}},e.click()};return(0,f.bv)(()=>{let e=U();e&&(n.value=e.hasUpdate,i.value=e,a("update-status",n.value))}),l({openAbout:s,hasUpdate:n}),(e,t)=>((0,f.wg)(),(0,f.j4)((0,f.SU)(k.Z),{show:o.value,"onUpdate:show":t[0]||(t[0]=e=>o.value=e),preset:"card",title:"\u5173\u4E8E",style:{width:"600px"}},{default:(0,f.w5)(()=>{var e,t;return[(0,f._)("div",H,[(0,f._)("div",L,[Z,A,(0,f._)("div",W,[(0,f._)("div",D," v"+(0,f.zw)((0,f.SU)(r)),1),(0,f._)("div",I,[z,(0,f._)("span",F,(0,f.zw)((0,f.SU)("2025/08/02 01:07:42")),1)])])]),n.value?((0,f.wg)(),(0,f.iD)("div",j,[B,(0,f._)("div",P,[V,(0,f._)("div",O,[(0,f._)("div",E," \u6700\u65B0\u7248\u672C: v"+(0,f.zw)(null===(e=i.value)||void 0===e?void 0:e.latestVersion),1),(0,f._)("div",N," \u53D1\u5E03\u65F6\u95F4: "+(0,f.zw)(new Date(null===(t=i.value)||void 0===t?void 0:t.publishedAt).toLocaleDateString("zh-CN")),1)])]),(0,f._)("button",{onClick:c,class:"update-button bg-white/20 border border-white/30 text-white backdrop-blur-lg transition-all duration-300 relative z-10 px-3 py-1.5 rounded-md text-sm cursor-pointer inline-flex items-center gap-1"},[Y,(0,f.Uk)(" \u67E5\u770B\u66F4\u65B0 ")])])):(0,f.kq)("",!0),(0,f._)("div",R,[$,(0,f._)("div",q,[(0,f.Wm)((0,f.SU)(y.ZP),{onClick:d,type:"success",ghost:"",size:"medium",class:"export-button"},{icon:(0,f.w5)(()=>[K]),default:(0,f.w5)(()=>[(0,f.Uk)(" \u5BFC\u51FA\u6570\u636E ")]),_:1}),(0,f.Wm)((0,f.SU)(y.ZP),{onClick:v,type:"info",ghost:"",size:"medium",class:"import-button"},{icon:(0,f.w5)(()=>[G]),default:(0,f.w5)(()=>[(0,f.Uk)(" \u5BFC\u5165\u6570\u636E ")]),_:1})])])])]}),_:1},8,["show"]))}});var Q=l("3768");let X=(0,Q.default)(J,[["__scopeId","data-v-7c33ed5a"]]),ee={class:"search-container"},et={class:"custom-search-input"},el=["placeholder"];let ea=[(a=()=>(0,f._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[(0,f._)("circle",{cx:"11",cy:"11",r:"8"}),(0,f._)("line",{x1:"21",y1:"21",x2:"16.65",y2:"16.65"})],-1),(0,f.dD)("data-v-21d0695b"),a=a(),(0,f.Cn)(),a)],eo=(0,f.aZ)({__name:"GoogleSearch",props:{placeholder:{type:String,default:"Google \u641C\u7D22..."}},emits:["focus-change"],setup(e,t){let{emit:l}=t,a=(0,f.iH)(""),o=(0,f.iH)(!1);(0,f.YP)(o,e=>{l("focus-change",e)});let n=()=>{if(a.value.trim()){let e=`https://www.google.com/search?q=${encodeURIComponent(a.value)}`;window.open(e,"_blank"),a.value=""}};return(t,l)=>((0,f.wg)(),(0,f.iD)("div",ee,[(0,f._)("div",et,[(0,f.wy)((0,f._)("input",{"onUpdate:modelValue":l[0]||(l[0]=e=>a.value=e),type:"text",placeholder:e.placeholder,onFocus:l[1]||(l[1]=e=>o.value=!0),onBlur:l[2]||(l[2]=e=>o.value=!1),onKeydown:(0,f.D2)(n,["enter"])},null,40,el),[[f.nr,a.value]]),(0,f._)("button",{class:"search-button",onClick:n},ea)])]))}}),en=(0,Q.default)(eo,[["__scopeId","data-v-21d0695b"]]);var ei=l("6813"),er=l("4163"),es=l("9107"),eu=l("4161"),ec=l("1712");l("6056");let ed=window.chrome&&window.chrome.storage,ev={set(e,t){t="object"==typeof t?JSON.stringify(t):t,window.localStorage.setItem(e,t)},async get(e){let t=window.localStorage.getItem(e);try{return JSON.parse(t)}catch(e){return t}}},em=(e,t)=>{ed?window.chrome.storage.local.set({[e]:t}):ev.set(e,t)},eg=e=>ed?new Promise(t=>{window.chrome.storage.local.get([e],l=>{t(l[e])})}):ev.get(e),ew=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},l=(0,f.iH)(t.default);return(0,f.bv)(async()=>{var a;let o=await eg(e)??t.chromeDefault??t.default;l.value=o,null===(a=t.onMounted)||void 0===a||a.call(t,o)}),[l,function(t){let a=arguments.length>1&&void 0!==arguments[1]&&arguments[1];!a&&(l.value=t),em(e,t)}]};var ef=l("7515"),ep=l("2995");async function eh(){try{var e;let t=(await navigator.mediaDevices.enumerateDevices()).filter(e=>"audiooutput"===e.kind).find(e=>"default"===e.deviceId),l=(null==t?void 0:null===(e=t.label)||void 0===e?void 0:e.toLowerCase())||"";return l.includes("bluetooth")||l.includes("headphones")}catch(e){return console.error("\u83B7\u53D6\u97F3\u9891\u8BBE\u5907\u5931\u8D25\uFF1A",e),!1}}let eb=async e=>{let t=await eg("NEW_TAB_TTS_ACCESS_TOKEN");if(!t)return;if(!await eh()){console.log("\u6CA1\u6709\u68C0\u6D4B\u5230\u84DD\u7259\u8033\u673A\u6216\u8033\u673A\u8BBE\u5907");return}let l=(0,ep.Z)(),a=await ef.Z.post("http://tts.greatwebtech.cn/api/v1/tts",{app:{appid:"9751273055",token:t,cluster:"volcano_tts"},user:{uid:"2109425105"},audio:{voice_type:"BV001_streaming",encoding:"mp3",compression_rate:1,rate:24e3,speed_ratio:1,volume_ratio:1,pitch_ratio:1,emotion:"happy",language:"cn"},request:{reqid:l,text:e,text_type:"plain",operation:"query",silence_duration:"125",with_frontend:"1",frontend_type:"unitTson",pure_english_opt:"1"}},{headers:{Authorization:`Bearer;${t}`}});return!function(e){let t=atob(e),l=t.length,a=new Uint8Array(l);for(let e=0;e<l;e++)a[e]=t.charCodeAt(e);let o=new Blob([a.buffer],{type:"audio/mpeg"}),n=new Audio(URL.createObjectURL(o));n.volume=.5,n.play()}(a.data.data),a.data};var e_=l("1630");(n=u||(u={})).GLM_4_Flash="glm-4-flash",n.GLM_4_Assistant="glm-4-assistant",n.GLM_4="glm-4";let ey=async function(e){var t;let{model:l="glm-4-flash"}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=await eg("NEW_TAB_ZHI_PU_API_KEY"),o=new e_.ZP({baseURL:"https://open.bigmodel.cn/api/paas/v4/",apiKey:a,dangerouslyAllowBrowser:!0});return null===(t=(await o.chat.completions.create({model:l,messages:e})).choices[0].message)||void 0===t?void 0:t.content},eS={key:0,class:"flex flex-col gap-4 relative backface-hidden"},ek=(0,f._)("div",{class:"h-full w-full"},[(0,f._)("div",{class:"font-size-5"},"\u5B66\u5355\u8BCD")],-1),ex={class:"whitespace-pre w-full font-size-6 font-bold"},eC={key:1},eU={class:"flex gap-2 justify-center"},eT=(0,f._)("span",{class:"font-size-3"},"\u6717\u8BFB",-1),eM=(0,f._)("span",{class:"font-size-3"},"\u67E5\u770B\u7FFB\u8BD1",-1),eH=(0,f._)("span",{class:"font-size-3"},"\u5237\u65B0",-1),eL={key:1,class:"backface-hidden transform-rotate-y-180"},eZ=(0,f._)("div",{class:"h-full w-full"},[(0,f._)("div",{class:"font-size-5"},"\u7FFB\u8BD1")],-1),eA={class:"m-y-8 font-size-4 transition-height duration-300"},eW={else:""},eD=(0,f._)("span",{class:"font-size-3"},"\u67E5\u770B\u5355\u8BCD",-1),eI=(0,f.aZ)({__name:"LearnCard",setup(e){let t=(0,f.iH)(!1),l=(0,f.iH)(!1);(0,f.YP)(t,e=>{setTimeout(()=>{l.value=e},400)});let[a]=ew("NEW_TAB_ZHI_PU_API_KEY",{default:"",chromeDefault:""}),[o,n]=ew("NEW_TAB_LEARN_HISTORY",{default:[]}),i=["\u8BF7\u518D\u968F\u673A\u751F\u6210\u4E00\u4E2A\u82F1\u8BED\u5355\u8BCD\u3002","\u8BF7\u518D\u751F\u6210\u4E00\u4E2A3\u52305\u4E2A\u5B57\u6BCD\u7684\u82F1\u8BED\u5355\u8BCD\u3002","\u8BF7\u518D\u63D0\u4F9B\u4E00\u4E2A\u81F3\u5C117\u4E2A\u5B57\u6BCD\u7684\u82F1\u8BED\u5355\u8BCD\u3002","\u8BF7\u518D\u751F\u6210\u4E00\u4E2A\u62BD\u8C61\u7684\u82F1\u8BED\u5355\u8BCD\u3002","\u8BF7\u518D\u751F\u6210\u4E00\u4E2A\u82F1\u8BED\u4E13\u6709\u540D\u8BCD\u3002","\u8BF7\u518D\u751F\u6210\u4E00\u4E2A\u5E26\u6709\u6B63\u9762\u60C5\u611F\u7684\u82F1\u8BED\u5355\u8BCD\u3002","\u6211\u8FD8\u9700\u8981\u4E00\u4E2A\u5E26\u6709\u8D1F\u9762\u60C5\u611F\u7684\u82F1\u8BED\u5355\u8BCD\u3002","\u8BF7\u518D\u751F\u6210\u4E00\u4E2A\u5E26\u6709\u4E2D\u6027\u60C5\u611F\u7684\u82F1\u8BED\u5355\u8BCD\u3002","\u8BF7\u518D\u751F\u6210\u4E00\u4E2A\u5E26\u6709\u79D1\u6280\u611F\u7684\u82F1\u8BED\u5355\u8BCD\u3002","\u8BF7\u518D\u751F\u6210\u4E00\u4E2A\u5E26\u6709\u827A\u672F\u611F\u7684\u82F1\u8BED\u5355\u8BCD\u3002","\u8BF7\u518D\u751F\u6210\u4E00\u4E2A\u96C5\u601D\u8BCD\u6C47\u8868\u4E2D\u7684\u82F1\u8BED\u5355\u8BCD","\u8BF7\u518D\u751F\u6210\u4E00\u4E2A\u6258\u798F\u8BCD\u6C47\u8868\u4E2D\u7684\u82F1\u8BED\u5355\u8BCD","\u8BF7\u518D\u751F\u6210\u4E00\u4E2AGRE\u8BCD\u6C47\u8868\u4E2D\u7684\u82F1\u8BED\u5355\u8BCD","\u8BF7\u518D\u751F\u6210\u4E00\u4E2A\u8003\u7814\u8BCD\u6C47\u8868\u4E2D\u7684\u82F1\u8BED\u5355\u8BCD","\u8BF7\u518D\u751F\u6210\u4E00\u4E2A\u9AD8\u4E2D\u8BCD\u6C47\u8868\u4E2D\u7684\u82F1\u8BED\u5355\u8BCD"],r=e=>{if(!!e)n([...o.value,{text:e,addedTime:Date.now()}])},{data:s,loading:u,refresh:c}=(0,S.QT)(async()=>{if(!a.value)return;await new Promise(e=>setTimeout(e,100));let e=await ey([{role:"system",content:"\u4F60\u662F\u4E00\u4E2A\u7B80\u5355\u7684\u5355\u8BCD\u751F\u6210\u52A9\u624B\uFF0C\u6BCF\u6B21\u53EA\u9700\u8981\u968F\u673A\u751F\u6210\u4E00\u4E2A\u65B0\u7684\u82F1\u8BED\u5355\u8BCD, \u4E0D\u80FD\u548C\u5B66\u8FC7\u7684\u91CD\u590D"},{role:"user",content:"\u8FD9\u4E9B\u662F\u6211\u5B66\u8FC7\u7684\u5355\u8BCD"+o.value.map(e=>e.text).join(",")+function(e){let t=Math.floor(Math.random()*e.length);return e[t]}(i)+"\n"}]);return r(e),e},{refreshDeps:[a]}),{data:d,loading:v}=(0,S.QT)(async()=>{if(!!a.value)return ey([{role:"system",content:"\u8BF7\u5C06\u8BE5\u5355\u8BCD\u7FFB\u8BD1\u4E3A\u4E2D\u6587"},{role:"user",content:s.value}])},{refreshDeps:[s]}),[m]=ew("NEW_TAB_TTS_ACCESS_TOKEN",{default:"",chromeDefault:""}),g=async e=>{if(!!e)eb(e)};return(e,o)=>(0,f.SU)(a)?((0,f.wg)(),(0,f.iD)("div",{key:0,class:(0,f.C_)(["word-card max-w-100 m-x-[auto] p-4 preserve-3d transition-all duration-1000",{"transform-rotate-y-180":t.value}])},[l.value?((0,f.wg)(),(0,f.iD)("div",eL,[eZ,(0,f._)("div",eA,[(0,f.SU)(v)?((0,f.wg)(),(0,f.j4)((0,f.SU)(eu.Z),{key:0})):(0,f.kq)("",!0),(0,f._)("span",eW,(0,f.zw)((0,f.SU)(d)),1)]),(0,f._)("div",{class:"m-x-auto m-t-2 hover-color-[#18a058] cursor-pointer flex justify-center items-center gap-2 font-size-4",onClick:o[3]||(o[3]=()=>{t.value=!t.value})},[(0,f.Wm)((0,f.SU)(ec.g),null,{default:(0,f.w5)(()=>[(0,f.Wm)((0,f.SU)(es.Z))]),_:1}),eD])])):((0,f.wg)(),(0,f.iD)("div",eS,[ek,(0,f._)("div",ex,[(0,f.SU)(u)?((0,f.wg)(),(0,f.j4)((0,f.SU)(eu.Z),{key:0})):((0,f.wg)(),(0,f.iD)("span",eC,(0,f.zw)((0,f.SU)(s)),1))]),(0,f._)("div",eU,[(0,f.SU)(m)?((0,f.wg)(),(0,f.iD)("span",{key:0,class:"m-t-2 hover-color-[#18a058] cursor-pointer inline-flex items-center gap-2 font-size-4",onClick:o[0]||(o[0]=e=>g((0,f.SU)(s)))},[(0,f.Wm)((0,f.SU)(ec.g),null,{default:(0,f.w5)(()=>[(0,f.Wm)((0,f.SU)(ei.Z))]),_:1}),eT])):(0,f.kq)("",!0),(0,f._)("span",{class:"m-t-2 hover-color-[#18a058] cursor-pointer inline-flex items-center gap-2 font-size-4",onClick:o[1]||(o[1]=()=>{t.value=!t.value})},[(0,f.Wm)((0,f.SU)(ec.g),null,{default:(0,f.w5)(()=>[(0,f.Wm)((0,f.SU)(es.Z))]),_:1}),eM]),(0,f._)("span",{class:(0,f.C_)(["m-t-2 hover-color-[#18a058] cursor-pointer inline-flex items-center gap-2 font-size-4",{"pointer-events-none":(0,f.SU)(u)}]),onClick:o[2]||(o[2]=function(){for(var e=arguments.length,t=Array(e),l=0;l<e;l++)t[l]=arguments[l];return(0,f.SU)(c)&&(0,f.SU)(c)(...t)})},[(0,f.Wm)((0,f.SU)(ec.g),null,{default:(0,f.w5)(()=>[(0,f.Wm)((0,f.SU)(er.Z))]),_:1}),eH],2)])]))],2)):(0,f.kq)("",!0)}});var ez=l("3395"),eF=l("2381"),ej=l("4053"),eB=l("7276"),eP=l("2023"),eV=l("7251"),eO=l("89"),eE=l("8961"),eN=l("6135");let eY="thumbnails";function eR(){return new Promise((e,t)=>{let l=indexedDB.open("ThumbnailCacheDB",1);l.onupgradeneeded=function(e){let t=e.target.result;!t.objectStoreNames.contains(eY)&&t.createObjectStore(eY,{keyPath:"id"})},l.onsuccess=function(t){e(t.target.result)},l.onerror=function(e){t(e.target.error)}})}async function e$(e,t){let l=(await eR()).transaction(eY,"readwrite");return l.objectStore(eY).put({id:e,thumbnailData:t}),new Promise((e,t)=>{l.oncomplete=()=>e(""),l.onerror=e=>t(e.target.error)})}async function eq(e){let t=(await eR()).transaction(eY,"readonly").objectStore(eY);return new Promise((l,a)=>{let o=t.get(e);o.onsuccess=()=>{var e;return l((null===(e=o.result)||void 0===e?void 0:e.thumbnailData)||"")},o.onerror=e=>a(e.target.error)})}async function eK(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:350,l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:200,a=[e,t,l].join("_"),o=await eq(a);if(o)return o;let n=await function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:350,l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:200;return new Promise((a,o)=>{let n=new Image;n.crossOrigin="anonymous",n.onload=function(){let e=document.createElement("canvas");e.width=t,e.height=l,e.getContext("2d").drawImage(n,0,0,t,l),a(e.toDataURL("image/png"))},n.onerror=e=>o(e),n.src=e})}(e,t,l);return await e$(a,n),n}let eG={class:"drawer-body"},eJ=["onClick","src"],eQ=(0,f.aZ)({__name:"LikeImageList",props:{bgImgSrc:{},setBgImgSrc:{type:Function}},setup(e){let[t,l]=(0,S.Rr)("new-tab.list",{defaultValue:[]}),[a,o]=(0,S.Rr)("new-tab.fetch-background-image-date",{defaultValue:""}),[n,i]=(0,S.Rr)("new-tab.pick-from-like-list",{defaultValue:!1}),r=(0,f.iH)([]),s=(0,f.iH)([]),u=e=>{r.value=e,s.value=b(e),l(e.map(e=>e.url))};(0,f.bv)(async()=>{var e,l,a;if(!r.value||!((null===(e=r.value)||void 0===e?void 0:e.length)>0))(null===(l=t.value)||void 0===l?void 0:l.some(e=>"string"==typeof e))&&u(await Promise.all(null===(a=t.value)||void 0===a?void 0:a.map(async e=>{let t="string"==typeof e?e:e.url,l=await eK(t);return{url:t,thumbnailData:l}}))),await new Promise(e=>setTimeout(e,200)),c()});let c=async()=>{var t;let l=m()().format("YYYY-MM-DD");if(a.value===l&&e.bgImgSrc)return;let i=n.value?null===(t=function(e){if(0===e.length)return;let t=Math.floor(Math.random()*e.length);return e[t]}(r.value))||void 0===t?void 0:t.url:void 0;!i&&(i=await fetch("https://api.timelessq.com/bing").then(e=>e.url)),e.setBgImgSrc(i),o(l)},d=(0,f.iH)(!1),v=()=>{d.value=!0},g=async t=>{if(e.setBgImgSrc(t.url),!t.thumbnailData){let e=await eK(t.url),l=r.value?(0,f.IU)(r.value):[],a=l.find(e=>e.url===t.url);a&&(a.thumbnailData=e),u(l)}},w=async()=>{let t=await fetch("https://api.timelessq.com/bing/random").then(e=>e.url);e.setBgImgSrc(t)},p=async()=>{let{bgImgSrc:t}=e,l=r.value?(0,f.IU)(r.value):[];if(null==l?void 0:l.some(e=>(null==e?void 0:e.url)===t))l=l.filter(e=>(null==e?void 0:e.url)!==t);else{let e=await eK(t||"");l.push({url:t||"",thumbnailData:e||""})}u(l)},h=e=>{let t="string"==typeof e?e:e.url||"",l=r.value?(0,f.IU)(r.value):[];u(l=l.filter(e=>(null==e?void 0:e.url)!==t))},b=e=>{let t=[...e];return null==t?void 0:t.sort((t,l)=>e.indexOf(l)-e.indexOf(t))};return(e,t)=>((0,f.wg)(),(0,f.iD)(f.HY,null,[(0,f.Wm)((0,f.SU)(eB.Z),null,{default:(0,f.w5)(()=>[(0,f.Wm)((0,f.SU)(y.ZP),{round:"",type:"primary",onClick:v},{default:(0,f.w5)(()=>[(0,f.Uk)(" \u6536\u85CF\u5217\u8868 ")]),_:1}),(0,f.Wm)((0,f.SU)(eP.Z),{trigger:"hover"},{trigger:(0,f.w5)(()=>[(0,f.Wm)((0,f.SU)(y.ZP),{quaternary:"",circle:"",type:"success",onClick:p},{icon:(0,f.w5)(()=>[(0,f.Wm)((0,f.SU)(ec.g),{size:"30"},{default:(0,f.w5)(()=>{var t;return[(null===(t=r.value)||void 0===t?void 0:t.some(t=>(null==t?void 0:t.url)===e.bgImgSrc))?((0,f.wg)(),(0,f.j4)((0,f.SU)(ez.Z),{key:0})):((0,f.wg)(),(0,f.j4)((0,f.SU)(eF.Z),{key:1}))]}),_:1})]),_:1})]),default:(0,f.w5)(()=>{var t;return[(0,f.Uk)(" "+(0,f.zw)((null===(t=r.value)||void 0===t?void 0:t.some(t=>(null==t?void 0:t.url)===e.bgImgSrc))?"\u4E0D\u518D\u559C\u6B22":"\u559C\u6B22\u6B64\u80CC\u666F"),1)]}),_:1}),(0,f.Wm)((0,f.SU)(eP.Z),{trigger:"hover"},{trigger:(0,f.w5)(()=>[(0,f.Wm)((0,f.SU)(y.ZP),{quaternary:"",circle:"",type:"success",onClick:w},{icon:(0,f.w5)(()=>[(0,f.Wm)((0,f.SU)(ec.g),{size:"30"},{default:(0,f.w5)(()=>[(0,f.Wm)((0,f.SU)(er.Z))]),_:1})]),_:1})]),default:(0,f.w5)(()=>[(0,f.Uk)(" \u968F\u673A\u80CC\u666F ")]),_:1})]),_:1}),(0,f.Wm)((0,f.SU)(eV.Z),{show:d.value,"onUpdate:show":t[1]||(t[1]=e=>d.value=e),"default-width":400,placement:"left",resizable:""},{default:(0,f.w5)(()=>[(0,f.Wm)((0,f.SU)(eO.Z),{title:"\u6536\u85CF\u5217\u8868"},{default:(0,f.w5)(()=>[(0,f._)("div",eG,[(0,f._)("div",null,[(0,f.Wm)((0,f.SU)(eE.Z),{checked:(0,f.SU)(n),"onUpdate:checked":t[0]||(t[0]=e=>(0,f.dq)(n)?n.value=e:null),onChange:(0,f.SU)(i)},{default:(0,f.w5)(()=>[(0,f.Uk)(" \u6BCF\u65E5\u5237\u65B0\u4ECE\u5217\u8868\u4E2D\u968F\u673A ")]),_:1},8,["checked","onChange"])]),((0,f.wg)(!0),(0,f.iD)(f.HY,null,(0,f.Ko)(s.value,(t,l)=>((0,f.wg)(),(0,f.j4)((0,f.SU)(eN.ZP),{key:l,hoverable:"",class:(0,f.C_)(["image-item",t.url===e.bgImgSrc?"active":""])},{cover:(0,f.w5)(()=>[(0,f._)("img",{onClick:e=>g(t),height:"200",src:t.thumbnailData||t.url,style:{cursor:"pointer"}},null,8,eJ)]),default:(0,f.w5)(()=>[(0,f.Wm)((0,f.SU)(y.ZP),{quaternary:"",circle:"",type:"success",onClick:e=>h(t)},{icon:(0,f.w5)(()=>[(0,f.Wm)((0,f.SU)(ec.g),{size:"20"},{default:(0,f.w5)(()=>[(0,f.Wm)((0,f.SU)(ej.Z))]),_:1})]),_:2},1032,["onClick"])]),_:2},1032,["class"]))),128))])]),_:1})]),_:1},8,["show"])],64))}});var eX=l("6276"),e0=l("2034"),e1=l("5234"),e2=l("6250"),e4=l("7821"),e8=l("5001");let e3={class:"task-card-wrapper"},e5={class:"task-header"},e6={class:"task-title-area"},e7=["contenteditable"],e9={class:"action-buttons"},te={class:"task-content"},tt=["contenteditable"],tl=(0,f.aZ)({__name:"TaskCard",props:{data:{},saveTask:{type:Function},completeTask:{type:Function},deleteTask:{type:Function}},setup(e){let t=(0,f.iH)(!1),l=(0,f.iH)(),a=(0,f.iH)(),o=(0,f.iH)(),n=a=>{t.value=a,a&&(o.value={...e.data},(0,f.Y3)(()=>{l.value&&(l.value.focus(),!e.data.title&&i(l.value))}))},i=e=>{let t=document.createRange();t.selectNodeContents(e);let l=window.getSelection();null==l||l.removeAllRanges(),null==l||l.addRange(t)},r=()=>{t.value&&!e.data.description&&a.value&&(0,f.Y3)(()=>{i(a.value)})};(0,f.bv)(()=>{!e.data.updateTime&&n(!0)});let s=()=>{t.value&&!e.data.title&&l.value&&(0,f.Y3)(()=>{i(l.value)})},u=()=>{var t,o,i,r;let s=(null===(o=l.value)||void 0===o?void 0:null===(t=o.textContent)||void 0===t?void 0:t.trim())||"",u=(null===(r=a.value)||void 0===r?void 0:null===(i=r.textContent)||void 0===i?void 0:i.trim())||"";e.saveTask({...e.data,title:s,description:u,updateTime:Date.now()}),n(!1)},c=()=>{l.value&&o.value&&(l.value.textContent=o.value.title||""),a.value&&o.value&&(a.value.textContent=o.value.description||""),n(!1)},d=()=>{e.completeTask(e.data.id||0)},v=()=>{e.deleteTask(e.data.id||0)},m=e=>{"Enter"===e.key&&e.ctrlKey?(e.preventDefault(),u()):"Escape"===e.key&&(e.preventDefault(),c())},g=e=>{var t;e.preventDefault();let l=(null===(t=e.clipboardData)||void 0===t?void 0:t.getData("text/plain"))||"";document.execCommand("insertText",!1,l)};return(e,o)=>((0,f.wg)(),(0,f.iD)("div",e3,[(0,f.Wm)((0,f.SU)(eN.ZP),{class:(0,f.C_)(["task-card",{"edit-mode":t.value}])},{default:(0,f.w5)(()=>[(0,f._)("div",e5,[(0,f._)("div",e6,[(0,f._)("h3",{ref_key:"titleRef",ref:l,class:(0,f.C_)(["task-title",{"empty-title":!e.data.title}]),contenteditable:t.value,onKeydown:m,onPaste:g,onBlur:o[0]||(o[0]=a=>{var o,n;return t.value&&(null===(n=l.value)||void 0===n?void 0:null===(o=n.textContent)||void 0===o?void 0:o.trim())===""&&(l.value.textContent=e.data.title||"")}),onFocus:s},(0,f.zw)(e.data.title||"\u672A\u547D\u540D\u4EFB\u52A1"),43,e7)]),(0,f._)("div",e9,[t.value?((0,f.wg)(),(0,f.iD)(f.HY,{key:1},[(0,f.Wm)((0,f.SU)(eP.Z),{trigger:"hover",placement:"top"},{trigger:(0,f.w5)(()=>[(0,f.Wm)((0,f.SU)(y.ZP),{size:"small",circle:"",class:"action-btn save-btn",onClick:u},{default:(0,f.w5)(()=>[(0,f.Wm)((0,f.SU)(ec.g),{size:"14"},{default:(0,f.w5)(()=>[(0,f.Wm)((0,f.SU)(e4.Z))]),_:1})]),_:1})]),default:(0,f.w5)(()=>[(0,f.Uk)(" \u4FDD\u5B58 (Ctrl+Enter) ")]),_:1}),(0,f.Wm)((0,f.SU)(eP.Z),{trigger:"hover",placement:"top"},{trigger:(0,f.w5)(()=>[(0,f.Wm)((0,f.SU)(y.ZP),{size:"small",circle:"",class:"action-btn cancel-btn",onClick:c},{default:(0,f.w5)(()=>[(0,f.Wm)((0,f.SU)(ec.g),{size:"14"},{default:(0,f.w5)(()=>[(0,f.Wm)((0,f.SU)(e8.Z))]),_:1})]),_:1})]),default:(0,f.w5)(()=>[(0,f.Uk)(" \u53D6\u6D88 (Esc) ")]),_:1})],64)):((0,f.wg)(),(0,f.iD)(f.HY,{key:0},[(0,f.Wm)((0,f.SU)(eP.Z),{trigger:"hover",placement:"top"},{trigger:(0,f.w5)(()=>[(0,f.Wm)((0,f.SU)(y.ZP),{size:"small",circle:"",class:"action-btn edit-btn",onClick:o[1]||(o[1]=e=>n(!0))},{default:(0,f.w5)(()=>[(0,f.Wm)((0,f.SU)(ec.g),{size:"14"},{default:(0,f.w5)(()=>[(0,f.Wm)((0,f.SU)(e0.Z))]),_:1})]),_:1})]),default:(0,f.w5)(()=>[(0,f.Uk)(" \u7F16\u8F91 ")]),_:1}),(0,f.Wm)((0,f.SU)(eP.Z),{trigger:"hover",placement:"top"},{trigger:(0,f.w5)(()=>[(0,f.Wm)((0,f.SU)(y.ZP),{size:"small",circle:"",class:"action-btn complete-btn",onClick:o[2]||(o[2]=e=>d())},{default:(0,f.w5)(()=>[(0,f.Wm)((0,f.SU)(ec.g),{size:"14"},{default:(0,f.w5)(()=>[(0,f.Wm)((0,f.SU)(e1.Z))]),_:1})]),_:1})]),default:(0,f.w5)(()=>[(0,f.Uk)(" \u5B8C\u6210 ")]),_:1}),(0,f.Wm)((0,f.SU)(eP.Z),{trigger:"hover",placement:"top"},{trigger:(0,f.w5)(()=>[(0,f.Wm)((0,f.SU)(y.ZP),{size:"small",circle:"",class:"action-btn delete-btn",onClick:o[3]||(o[3]=e=>v())},{default:(0,f.w5)(()=>[(0,f.Wm)((0,f.SU)(ec.g),{size:"14"},{default:(0,f.w5)(()=>[(0,f.Wm)((0,f.SU)(e2.Z))]),_:1})]),_:1})]),default:(0,f.w5)(()=>[(0,f.Uk)(" \u5220\u9664 ")]),_:1})],64))])]),(0,f._)("div",te,[(0,f._)("p",{ref_key:"descriptionRef",ref:a,class:(0,f.C_)(["task-description",{"empty-description":!e.data.description}]),contenteditable:t.value,onKeydown:m,onPaste:g,onBlur:o[4]||(o[4]=l=>{var o,n;return t.value&&(null===(n=a.value)||void 0===n?void 0:null===(o=n.textContent)||void 0===o?void 0:o.trim())===""&&(a.value.textContent=e.data.description||"")}),onFocus:r},(0,f.zw)(e.data.description||"\u70B9\u51FB\u7F16\u8F91\u6309\u94AE\u6DFB\u52A0\u63CF\u8FF0..."),43,tt)])]),_:1},8,["class"])]))}}),[ta,to]=(0,S.Rr)("new-tab.task-list",{defaultValue:[]}),tn=(0,f.Fl)(()=>{var e,t;return(null===(t=ta.value)||void 0===t?void 0:null===(e=t.filter(e=>!e.completedTime))||void 0===e?void 0:e.length)||0}),ti=(0,f.Fl)(()=>{var e;return(null===(e=ta.value)||void 0===e?void 0:e.filter(e=>!e.completedTime))||[]}),tr=e=>{to(function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],l=t.findIndex(t=>t.id===e.id);return -1!==l?t[l]=e:t.push(e),[...t]})},ts=e=>{to(function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],l=t.findIndex(t=>t.id===e);return -1!==l&&(t[l]={...t[l],completedTime:Date.now()}),[...t]})},tu=()=>{let e={id:Date.now(),title:"",description:"",completedTime:0};to(function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return[...t,e]})},tc=e=>{to(function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return t.filter(t=>t.id!==e)})},td=()=>{var e;to((null===(e=ta.value)||void 0===e?void 0:e.filter(e=>e.id&&"number"==typeof e.id))||[])},tv=()=>({taskList:ta,unCompletedTaskCount:tn,unCompletedTaskList:ti,handleSaveTask:tr,handleCompleteTask:ts,handleAddTask:tu,handleDeleteTask:tc,initializeTaskList:td}),tm={class:"task-container"},tg={class:"task-header"},tw=(0,f._)("h2",{class:"task-title"},"\uD83D\uDCDD \u6211\u7684\u4EFB\u52A1",-1),tf={class:"task-count"},tp={class:"task-list"},th={class:"add-task-wrapper"},tb=(0,f.aZ)({__name:"TaskList",setup(e){let{unCompletedTaskCount:t,unCompletedTaskList:l,handleSaveTask:a,handleCompleteTask:o,handleAddTask:n,handleDeleteTask:i,initializeTaskList:r}=tv();return(0,f.bv)(()=>{r()}),(e,r)=>((0,f.wg)(),(0,f.iD)("div",tm,[(0,f._)("div",tg,[tw,(0,f._)("span",tf,(0,f.zw)((0,f.SU)(t))+" \u4E2A\u5F85\u5B8C\u6210",1)]),(0,f._)("div",tp,[(0,f.Wm)(f.W3,{name:"task",tag:"div",class:"task-grid"},{default:(0,f.w5)(()=>[((0,f.wg)(!0),(0,f.iD)(f.HY,null,(0,f.Ko)((0,f.SU)(l),e=>((0,f.wg)(),(0,f.j4)(tl,{key:e.id,data:e,saveTask:(0,f.SU)(a),completeTask:(0,f.SU)(o),deleteTask:(0,f.SU)(i)},null,8,["data","saveTask","completeTask","deleteTask"]))),128))]),_:1}),(0,f._)("div",th,[(0,f.Wm)((0,f.SU)(y.ZP),{class:"add-new-card",dashed:"",onClick:(0,f.SU)(n)},{icon:(0,f.w5)(()=>[(0,f.Wm)((0,f.SU)(ec.g),{size:"20"},{default:(0,f.w5)(()=>[(0,f.Wm)((0,f.SU)(eX.Z))]),_:1})]),default:(0,f.w5)(()=>[(0,f.Uk)(" \u6DFB\u52A0\u65B0\u4EFB\u52A1 ")]),_:1},8,["onClick"])])])]))}});var t_=l("8035"),ty=l.n(t_);let tS={class:"font-size-24 m-0"},tk=["innerHTML"],tx=(0,f.aZ)({__name:"Time",setup(e){let[t,l]=(0,S.Rr)("new-tab.audio.skip-times",{defaultValue:0});m().locale(ty());let a=(0,f.iH)(""),o=(0,f.iH)(""),n=null;function i(){let e=m()();a.value=e.format("HH:mm"),o.value=`\u{4ECA}\u{5929}\u{662F} <strong>${e.year()}</strong> \u{5E74} <strong>${e.month()+1}</strong> \u{6708} <strong>${e.date()}</strong> \u{65E5} <strong>${e.format("dddd")}</strong>`}return(0,f.wF)(()=>{i(),n=setInterval(i,1e3)}),(0,f.bv)(async()=>{if(t.value>0){l(t.value-1);return}l(10);let{data:e}=await ef.Z.get("https://api.kuleu.com/api/getGreetingMessage");eb(e)}),(0,f.SK)(()=>{clearInterval(n)}),(e,t)=>((0,f.wg)(),(0,f.iD)(f.HY,null,[(0,f._)("h1",tS,(0,f.zw)(a.value),1),(0,f._)("p",{innerHTML:o.value,class:"font-size-6"},null,8,tk)],64))}}),tC={copy:[{selector:"document",texts:["\u4F60\u90FD\u590D\u5236\u4E86\u4E9B\u4EC0\u4E48\u5440\uFF0C\u8F6C\u8F7D\u8981\u8BB0\u5F97\u52A0\u4E0A\u51FA\u5904\u54E6\uFF01"]}],visibilitychange:[{selector:"document",texts:["\u54C7\uFF0C\u4F60\u7EC8\u4E8E\u56DE\u6765\u4E86\uFF5E"]}],mouseover:[{selector:".vue-live2d-tool .custom-fa-comment",texts:["\u731C\u731C\u6211\u8981\u8BF4\u4E9B\u4EC0\u4E48\uFF1F","\u6B23\u8D4F\u4E00\u4E9B\u6709\u610F\u601D\u7684\u77ED\u53E5\uFF1F"]},{selector:".vue-live2d-tool .custom-fa-user-circle",texts:["\u60F3\u770B\u770B\u6211\u7684\u670B\u53CB\u4EEC\u5417\uFF1F"]},{selector:".vue-live2d-tool .custom-fa-street-view",texts:["\u53D8\u88C5\uFF01"]},{selector:".vue-live2d-tool .custom-fa-camera-retro",texts:["\u4E00\u8D77\u62CD\u7167\u7559\u5FF5\uFF1F"]},{selector:".vue-live2d-tool .custom-fa-info-circle",texts:["(\uFF3E\uFF35\uFF3E)\u30CE~\uFF39\uFF2F"]},{selector:".vue-live2d-tool .custom-fa-times",texts:["\u5C31\u8981\u8BF4\u518D\u89C1\u4E86\u5417\uFF1F"]}]},tU=["innerHTML"],tT=["id","width","height"],tM={class:"vue3-live2d-tool"},tH=["innerHTML","onClick"],tL=[(0,f._)("span",null,"\u770B\u677F\u5A18",-1)],tZ=(0,f.aZ)({__name:"index",props:(0,f.Vf)({isLeft:{default:!1,type:Boolean},isTipBottom:{default:!1,type:Boolean},customId:{default:"vue3-live2d-main",type:String},apiPath:{default:"/vue3-live2d-static-api/indexes",type:String},model:{default:()=>["Potion-Maker/Pio","school-2017-costume-yellow"],type:Array},setModel:{default:()=>{},type:Function},homePage:{default:"https://github.com/double2kill/new-tab-extension",type:String},tips:{default:()=>tC,type:Object},mainShow:{default:!0,type:Boolean},setMainShow:{default:()=>{},type:Function}},{width:{default:400},widthModifiers:{},height:{default:400},heightModifiers:{},resolution:{default:1},resolutionModifiers:{}}),emits:["update:width","update:height","update:resolution"],setup(e){let t=(0,f.tT)(e,"width"),l=(0,f.tT)(e,"height"),a=(0,f.tT)(e,"resolution"),{apiPath:o,customId:n,isLeft:i,homePage:r,model:s,isTipBottom:u,tips:c,setModel:d}=e,v=null,m=(0,f.iH)({tip:!1,main:!0,tool:!1,toggle:!1}),g="\u770B\u677F\u5A18",w="",p="",h=[{className:"custom-fa-comment",svg:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" height="20px" width="20px">\x3c!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --\x3e<path d="M256 32C114.6 32 0 125.1 0 240c0 49.6 21.4 95 57 130.7C44.5 421.1 2.7 466 2.2 466.5c-2.2 2.3-2.8 5.7-1.5 8.7S4.8 480 8 480c66.3 0 116-31.8 140.6-51.4 32.7 12.3 69 19.4 107.4 19.4 141.4 0 256-93.1 256-208S397.4 32 256 32z"/></svg>',click:function(){U({url:"https://v1.hitokoto.cn",success:e=>{let{hitokoto:t,id:l,creator:a,from:o}=e;y(`${t} <br> - by <a href="https://hitokoto.cn?id=${l}">${a}</a> from \u{300A}${o} \u{300B}`)}})}},{className:"custom-fa-user-circle",svg:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512" height="20px" width="20px">\x3c!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --\x3e<path d="M248 8C111 8 0 119 0 256s111 248 248 248 248-111 248-248S385 8 248 8zm0 96c48.6 0 88 39.4 88 88s-39.4 88-88 88-88-39.4-88-88 39.4-88 88-88zm0 344c-58.7 0-111.3-26.6-146.5-68.2 18.8-35.4 55.6-59.8 98.5-59.8 2.4 0 4.8.4 7.1 1.1 13 4.2 26.6 6.9 40.9 6.9 14.3 0 28-2.7 40.9-6.9 2.3-.7 4.7-1.1 7.1-1.1 42.9 0 79.7 24.4 98.5 59.8C359.3 421.4 306.7 448 248 448z"/></svg>',click:function(){U({url:`${o}/models.json`,success:e=>{let t=e.filter(e=>{let{modelPath:t}=e;return w!==t}),{modelPath:l,modelIntroduce:a}=t[Math.floor(Math.random()*t.length)];w!==l&&(d([w,p]),w=l),y(`${a}`,4e3),_(!0)}})}},{className:"custom-fa-street-view",svg:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" height="20px" width="20px">\x3c!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --\x3e<path d="M367.9 329.76c-4.62 5.3-9.78 10.1-15.9 13.65v22.94c66.52 9.34 112 28.05 112 49.65 0 30.93-93.12 56-208 56S48 446.93 48 416c0-21.6 45.48-40.3 112-49.65v-22.94c-6.12-3.55-11.28-8.35-15.9-13.65C58.87 345.34 0 378.05 0 416c0 53.02 114.62 96 256 96s256-42.98 256-96c0-37.95-58.87-70.66-144.1-86.24zM256 128c35.35 0 64-28.65 64-64S291.35 0 256 0s-64 28.65-64 64 28.65 64 64 64zm-64 192v96c0 17.67 14.33 32 32 32h64c17.67 0 32-14.33 32-32v-96c17.67 0 32-14.33 32-32v-96c0-26.51-21.49-48-48-48h-11.8c-11.07 5.03-23.26 8-36.2 8s-25.13-2.97-36.2-8H208c-26.51 0-48 21.49-48 48v96c0 17.67 14.33 32 32 32z"/></svg>',click:_},{className:"custom-fa-camera-retro",svg:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" height="20px" width="20px">\x3c!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --\x3e<path d="M48 32C21.5 32 0 53.5 0 80v352c0 26.5 21.5 48 48 48h416c26.5 0 48-21.5 48-48V80c0-26.5-21.5-48-48-48H48zm0 32h106c3.3 0 6 2.7 6 6v20c0 3.3-2.7 6-6 6H38c-3.3 0-6-2.7-6-6V80c0-8.8 7.2-16 16-16zm426 96H38c-3.3 0-6-2.7-6-6v-36c0-3.3 2.7-6 6-6h138l30.2-45.3c1.1-1.7 3-2.7 5-2.7H464c8.8 0 16 7.2 16 16v74c0 3.3-2.7 6-6 6zM256 424c-66.2 0-120-53.8-120-120s53.8-120 120-120 120 53.8 120 120-53.8 120-120 120zm0-208c-48.5 0-88 39.5-88 88s39.5 88 88 88 88-39.5 88-88-39.5-88-88-88zm-48 104c-8.8 0-16-7.2-16-16 0-35.3 28.7-64 64-64 8.8 0 16 7.2 16 16s-7.2 16-16 16c-17.6 0-32 14.4-32 32 0 8.8-7.2 16-16 16z"/></svg>',click:function(){y("\u7167\u597D\u4E86\u561B\uFF0C\u7559\u4E2A\u7EAA\u5FF5\u5416~"),window.Live2D.captureName="photo.png",window.Live2D.captureFrame=!0}},{className:"custom-fa-info-circle",svg:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" height="20px" width="20px">\x3c!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --\x3e<path d="M256 8C119.043 8 8 119.083 8 256c0 136.997 111.043 248 248 248s248-111.003 248-248C504 119.083 392.957 8 256 8zm0 110c23.196 0 42 18.804 42 42s-18.804 42-42 42-42-18.804-42-42 18.804-42 42-42zm56 254c0 6.627-5.373 12-12 12h-88c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h12v-64h-12c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h64c6.627 0 12 5.373 12 12v100h12c6.627 0 12 5.373 12 12v24z"/></svg>',click:function(){open(r)}},{className:"custom-fa-times",svg:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="-40 -40 432 592" fill="currentColor" height="20px" width="20px">\x3c!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --\x3e<path d="M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"/></svg>',click:function(){m.value.main=!1,e.setMainShow(!1)}}];function b(){window.loadlive2d&&o&&w&&p&&(window.loadlive2d(n,`${o}/${w}/${p}.json`),console.log(`Live2D \u{6A21}\u{578B} ${w}\u{FF0C}\u{670D}\u{88C5} ${p} \u{52A0}\u{8F7D}\u{5B8C}\u{6210}`))}function _(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];U({url:`${o}/${w}/textures.json`,success:t=>{let l=t.filter(e=>p!==e),a=l[Math.floor(Math.random()*l.length)];p!==a&&(d([w,a]),p=a),b(),!e&&y("\u6211\u7684\u65B0\u8863\u670D\u597D\u770B\u561B\uFF1F",4e3)}})}function y(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:6e3;v?(clearTimeout(v),v=null):m.value.tip=!0,g=e,v=setTimeout(()=>{m.value.tip=!1,v=null},t)}function S(){m.value.main=!0,e.setMainShow(!0)}function k(){m.value.tool=!1}function x(){m.value.tool=!0}function C(){for(let e in c)for(let{selector:t,texts:l}of c[e]){let a="document"===t?document:document.querySelector(t);if(null!=a)a.addEventListener(e,()=>{y(l[Math.floor(Math.random()*l.length)],2e3)})}}async function U(e){let{url:t,success:l}=e,{data:a}=await ef.Z.get(t);l&&l(a)}let T=(0,f.Fl)(()=>t.value*a.value),M=(0,f.Fl)(()=>l.value*a.value),H=(0,f.Fl)(()=>e.mainShow&&m.value.tip),L=(0,f.Fl)(()=>e.mainShow&&m.value.tool),Z=(0,f.Fl)(()=>!e.mainShow);(0,f.bv)(async()=>{[w,p]=s,b(),(0,f.Y3)(C)});let A=(0,f.iH)(!0);function W(){A.value=!1,(0,f.Y3)(()=>{A.value=!0,(0,f.Y3)(()=>{b()})})}return(0,f.YP)(T,W),(0,f.YP)(M,W),(a,o)=>((0,f.wg)(),(0,f.iD)("div",{class:(0,f.C_)(["vue3-live2d",[(0,f.SU)(i)?"vue3-live2d-on-left":"vue3-live2d-on-right"]]),style:(0,f.j5)({width:`${t.value}px`,height:`${l.value}px`}),onMouseover:x,onMouseout:k},[(0,f.wy)((0,f._)("div",{innerHTML:(0,f.SU)(g),class:(0,f.C_)(["vue3-live2d-tip",[(0,f.SU)(u)?"vue3-live2d-tip-on-bottom":"vue3-live2d-tip-on-top"]])},null,10,tU),[[f.F8,(0,f.SU)(H)]]),(0,f.SU)(A)?(0,f.wy)(((0,f.wg)(),(0,f.iD)("canvas",{key:0,id:(0,f.SU)(n),class:(0,f.C_)(["'vue3-live2d-main'",[(0,f.SU)(i)?"vue3-live2d-main-on-left":"vue3-live2d-main-on-right"]]),style:(0,f.j5)({width:`${t.value}px`,height:`${l.value}px`}),width:(0,f.SU)(T),height:(0,f.SU)(M)},null,14,tT)),[[f.F8,e.mainShow]]):(0,f.kq)("",!0),(0,f.wy)((0,f._)("div",tM,[((0,f.wg)(!0),(0,f.iD)(f.HY,null,(0,f.Ko)((0,f.SU)(h),(e,t)=>((0,f.wg)(),(0,f.iD)("span",{key:t,class:(0,f.C_)(e.className),innerHTML:e.svg,onClick:e.click},null,10,tH))),128))],512),[[f.F8,(0,f.SU)(L)]]),(0,f.wy)((0,f._)("div",{onClick:S,class:(0,f.C_)(["vue3-live2d-toggle",[(0,f.SU)(i)?"vue3-live2d-toggle-on-left":"vue3-live2d-toggle-on-right"]])},tL,2),[[f.F8,(0,f.SU)(Z)]])],38))}});var tA=l("8218");(i=c||(c={})).springyEmojiCursor="springyEmojiCursor",i.fairyDustCursor="fairyDustCursor",i.snowflakeCursor="snowflakeCursor",i.characterCursor="characterCursor",i.trailingCursor="trailingCursor",i.followingDotCursor="followingDotCursor",i.bubbleCursor="bubbleCursor",i.emojiCursor="emojiCursor",i.ghostCursor="ghostCursor",i.rainbowCursor="rainbowCursor",i.clockCursor="clockCursor",i.textFlag="textFlag";let tW=null,tD=async e=>{let t=e;if(null==tW||tW.destroy(),!t&&(t=await eg("NEW_TAB_CURSOR_EFFECT")),!!t)switch(t){case"springyEmojiCursor":tW=(0,tA.Gu)({});return;case"fairyDustCursor":tW=(0,tA.f4)({});return;case"snowflakeCursor":tW=(0,tA.be)({});return;case"characterCursor":tW=(0,tA.Be)({});return;case"trailingCursor":tW=(0,tA.n8)({});return;case"followingDotCursor":tW=(0,tA.Y2)({});return;case"bubbleCursor":tW=(0,tA.gR)({});return;case"emojiCursor":tW=(0,tA.y5)({});return;case"ghostCursor":tW=(0,tA.$N)({});return;case"rainbowCursor":tW=(0,tA.Hy)({});return;case"clockCursor":tW=(0,tA.N$)({});return;case"textFlag":tW=(0,tA.$E)({});return}};let tI=(r=tD,o=null,function(){for(var e=arguments.length,t=Array(e),l=0;l<e;l++)t[l]=arguments[l];o&&clearTimeout(o),o=setTimeout(()=>{r.apply(this,t)},200)});window.addEventListener("focus",()=>{tI()});window.addEventListener("blur",()=>{null==tW||tW.destroy()});window.addEventListener("keydown",()=>{null==tW||tW.destroy()});window.addEventListener("keyup",()=>{tI()});let tz=["src"],tF={class:"toolbar"},tj={class:"toolbar-item"},tB=[(0,f._)("svg",{viewBox:"0 0 24 24",width:"20",height:"20",fill:"currentColor"},[(0,f._)("path",{d:"M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2M16.2,16.2L11,13V7H12.5V12.2L17,14.9L16.2,16.2Z"})],-1)],tP={class:"toolbar-item"},tV=[(0,f._)("svg",{viewBox:"0 0 24 24",width:"20",height:"20",fill:"currentColor"},[(0,f._)("path",{d:"M14,2H6A2,2 0 0,0 4,4V20A2,2 0 0,0 6,22H18A2,2 0 0,0 20,20V8L14,2M18,20H6V4H13V9H18V20Z"})],-1)],tO={class:"toolbar-item"},tE=(0,f._)("svg",{viewBox:"0 0 24 24",width:"20",height:"20",fill:"currentColor"},[(0,f._)("path",{d:"M11,9H13V7H11M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20,12C20,16.41 16.41,20 12,20M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2M11,17H13V11H11V17Z"})],-1),tN={key:0,class:"absolute -top-1 -right-1 w-3 h-3 bg-red-500 rounded-full animate-pulse"},tY={class:"app flex flex-col gap-8"},tR={class:"flex flex-col items-center justify-center h-full"},t$={key:0,class:"width-[600]"},tq={style:{width:"200px"}},tK={class:"settings"};(s=d||(d={})).Time="time",s.Task="task";let tG=(0,f.aZ)({__name:"NewTab",setup(e){let{unCompletedTaskCount:t}=tv(),l=(e,t)=>(e=Math.ceil(e),Math.floor(Math.random()*((t=Math.floor(t))-e+1))+e),a=(0,f.iH)(),o=()=>{localStorage.setItem("new-tab.wai.deg",a.value.toString())},[n,i]=(0,S.Rr)("new-tab.work.mode",{defaultValue:"time"});(0,f.bv)(()=>{i(Math.random()>.5?"time":"task")});let[r,s]=(0,S.Rr)("new-tab.wai.mode",{defaultValue:"random"}),[u,c]=(0,S.Rr)("new-tab.background-image",{defaultValue:""}),d=(0,f.Fl)(()=>"task"===n.value),v=e=>{i(e?"task":"time")},m=(0,f.Fl)(()=>"fixed"===r.value);(0,f.bv)(async()=>{tD(),a.value=localStorage.getItem("new-tab.wai.deg")?parseInt(localStorage.getItem("new-tab.wai.deg")):l(-120,120)});let g=e=>{if(e){s("fixed"),localStorage.setItem("new-tab.wai.deg",a.value.toString());return}s("random"),localStorage.removeItem("new-tab.wai.deg"),a.value=l(-120,120)};(0,f.iH)({mouseover:[{selector:".vue3-live2d",texts:["\u8BF7\u67E5\u770B\u6E90\u4EE3\u7801\u4E86\u89E3\u5982\u4F55\u4FEE\u6539\u9ED8\u8BA4\u8BED\u53E5"]}]});let[w,k]=(0,S.Rr)("new-tab.live2d.model",{defaultValue:["Potion-Maker/Pio","school-2017-costume-yellow"]}),[x,C]=(0,S.Rr)("new-tab.live2d.visible",{defaultValue:!0}),U=(0,f.iH)(!1),T=e=>{U.value=e};(0,f.YP)(U,e=>{e?document.body.classList.add("bg-blur"):document.body.classList.remove("bg-blur")});let M=(0,f.iH)(),H=(0,f.iH)(!1),L=()=>{if(location.href.includes("localhost")){window.open("/options");return}if(chrome){let e=chrome.runtime.getManifest().key,t="/build/options.html";e&&(t=t.replace("/build/","/")),chrome.tabs.create({url:t});return}},Z=()=>{var e;null===(e=M.value)||void 0===e||e.openAbout()};return(e,l)=>((0,f.wg)(),(0,f.iD)(f.HY,null,[(0,f.SU)(u)?((0,f.wg)(),(0,f.iD)("img",{key:0,class:"background-item",src:(0,f.SU)(u),alt:"Bing\u6BCF\u65E5\u58C1\u7EB8UHD\u8D85\u9AD8\u6E05\u539F\u56FE"},null,8,tz)):(0,f.kq)("",!0),(0,f._)("div",tF,[(0,f._)("div",tj,[(0,f._)("button",{onClick:l[0]||(l[0]=e=>v(!1)),class:(0,f.C_)(["toolbar-button",{active:!d.value}]),title:"\u65F6\u95F4\u6A21\u5F0F"},tB,2)]),(0,f._)("div",tP,[(0,f.Wm)((0,f.SU)(p.Z),{value:(0,f.SU)(t),max:99,"show-zero":!1,offset:[-3,3],color:"#ef4444","text-color":"white"},{default:(0,f.w5)(()=>[(0,f._)("button",{onClick:l[1]||(l[1]=e=>v(!0)),class:(0,f.C_)(["toolbar-button",{active:d.value}]),title:"\u5DE5\u4F5C\u6A21\u5F0F"},tV,2)]),_:1},8,["value"])]),(0,f._)("div",tO,[(0,f.Wm)((0,f.SU)(p.Z),{value:H.value?"NEW":"","show-zero":!1,offset:[-3,3],color:"#ef4444","text-color":"white",class:(0,f.C_)({"badge-animation":H.value})},{default:(0,f.w5)(()=>[(0,f._)("button",{onClick:Z,class:"toolbar-button relative",title:"\u5173\u4E8E"},[tE,H.value?((0,f.wg)(),(0,f.iD)("div",tN)):(0,f.kq)("",!0)])]),_:1},8,["value","class"])])]),(0,f._)("div",tY,[(0,f.Wm)(en,{onFocusChange:T}),(0,f._)("div",tR,[d.value?((0,f.wg)(),(0,f.j4)(tb,{key:1})):((0,f.wg)(),(0,f.iD)("div",{key:0,class:"m-t--16",style:(0,f.j5)(`transform: rotate(${-a.value}deg)`)},[(0,f.Wm)(tx),(0,f.Wm)(eI)],4))]),d.value?(0,f.kq)("",!0):((0,f.wg)(),(0,f.iD)("div",t$,[(0,f.Wm)((0,f.SU)(h.Z),{value:m.value,"onUpdate:value":[l[3]||(l[3]=e=>m.value=e),g],style:{"margin-bottom":"10px"}},{checked:(0,f.w5)(()=>[(0,f.Wm)((0,f.SU)(b.ZP),null,{trigger:(0,f.w5)(()=>[(0,f.Uk)(" \u56FA\u5B9A\u89D2\u5EA6 ")]),default:(0,f.w5)(()=>[(0,f._)("div",tq,[(0,f.Wm)((0,f.SU)(_.Z),{value:a.value,"onUpdate:value":[l[2]||(l[2]=e=>a.value=e),o],min:-120,max:120},null,8,["value"])])]),_:1})]),unchecked:(0,f.w5)(()=>[(0,f.Uk)(" \u968F\u673A\u89D2\u5EA6 ")]),_:1},8,["value"])])),(0,f._)("div",tK,[(0,f.Wm)((0,f.SU)(y.ZP),{round:"",type:"primary",onClick:L},{default:(0,f.w5)(()=>[(0,f.Uk)(" \u8BBE\u7F6E ")]),_:1}),(0,f.Wm)(eQ,{bgImgSrc:(0,f.SU)(u),setBgImgSrc:(0,f.SU)(c)},null,8,["bgImgSrc","setBgImgSrc"])]),(0,f.Wm)(X,{ref_key:"aboutRef",ref:M,onUpdateStatus:l[4]||(l[4]=e=>H.value=e)},null,512),(0,f.Wm)(tZ,{class:"live2d",width:300,height:300,resolution:2,style:{position:"fixed",bottom:0,right:0,zIndex:1},"api-path":"https://vue-live2d.demo.evgo2017.com/live2d-static-api/indexes",model:(0,f.SU)(w),setModel:(0,f.SU)(k),mainShow:(0,f.SU)(x),setMainShow:(0,f.SU)(C)},null,8,["model","setModel","mainShow","setMainShow"])])],64))}}),tJ=(0,f.aZ)({__name:"App",setup:e=>(e,t)=>((0,f.wg)(),(0,f.j4)(tG))});m().extend(w()),(0,f.ri)(tJ).mount("#app")}},t={};function l(a){var o=t[a];if(void 0!==o)return o.exports;var n=t[a]={id:a,loaded:!1,exports:{}};return e[a].call(n.exports,n,n.exports,l),n.loaded=!0,n.exports}l.m=e,l.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return l.d(t,{a:t}),t},l.d=function(e,t){for(var a in t)l.o(t,a)&&!l.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})},l.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||Function("return this")()}catch(e){if("object"==typeof window)return window}}(),l.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},l.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},l.nmd=function(e){return e.paths=[],!e.children&&(e.children=[]),e},(()=>{var e=[];l.O=function(t,a,o,n){if(a){n=n||0;for(var i=e.length;i>0&&e[i-1][2]>n;i--)e[i]=e[i-1];e[i]=[a,o,n];return}for(var r=1/0,i=0;i<e.length;i++){for(var a=e[i][0],o=e[i][1],n=e[i][2],s=!0,u=0;u<a.length;u++)(!1&n||r>=n)&&Object.keys(l.O).every(function(e){return l.O[e](a[u])})?a.splice(u--,1):(s=!1,n<r&&(r=n));if(s){e.splice(i--,1);var c=o();void 0!==c&&(t=c)}}return t}})(),l.rv=function(){return"1.0.0-beta.5"},l.j="980",(()=>{var e={980:0};l.O.j=function(t){return 0===e[t]};var t=function(t,a){var o=a[0],n=a[1],i=a[2],r,s,u=0;if(o.some(function(t){return 0!==e[t]})){for(r in n)l.o(n,r)&&(l.m[r]=n[r]);if(i)var c=i(l)}for(t&&t(a);u<o.length;u++)s=o[u],l.o(e,s)&&e[s]&&e[s][0](),e[s]=0;return l.O(c)},a=self.webpackChunknew_tab_extension=self.webpackChunknew_tab_extension||[];a.forEach(t.bind(null,0)),a.push=t.bind(null,a.push.bind(a))})(),l.ruid="bundler=rspack@1.0.0-beta.5";var a=l.O(void 0,["139","707","72","822","291"],function(){return l("2947")});a=l.O(a)})();