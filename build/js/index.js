(()=>{"use strict";var e={3618:function(e,t,o){var n,l,r=o("8026"),a=o.n(r),i=o("903"),s=o.n(i),u=o("1578"),c=o("7916"),d=o("1816"),m=o("2775"),v=o("7555"),g=o("2168"),w=o("3395"),h=o("2381"),f=o("4163"),p=o("4053"),S=o("7276"),b=o("2023"),y=o("1712"),C=o("7251"),x=o("89"),k=o("8961"),U=o("6135");let _="thumbnails";function M(){return new Promise((e,t)=>{let o=indexedDB.open("ThumbnailCacheDB",1);o.onupgradeneeded=function(e){let t=e.target.result;!t.objectStoreNames.contains(_)&&t.createObjectStore(_,{keyPath:"id"})},o.onsuccess=function(t){e(t.target.result)},o.onerror=function(e){t(e.target.error)}})}async function I(e,t){let o=(await M()).transaction(_,"readwrite");return o.objectStore(_).put({id:e,thumbnailData:t}),new Promise((e,t)=>{o.oncomplete=()=>e(""),o.onerror=e=>t(e.target.error)})}async function F(e){let t=(await M()).transaction(_,"readonly").objectStore(_);return new Promise((o,n)=>{let l=t.get(e);l.onsuccess=()=>{var e;return o((null===(e=l.result)||void 0===e?void 0:e.thumbnailData)||"")},l.onerror=e=>n(e.target.error)})}async function L(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:350,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:200,n=[e,t,o].join("_"),l=await F(n);if(l)return l;let r=await function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:350,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:200;return new Promise((n,l)=>{let r=new Image;r.crossOrigin="anonymous",r.onload=function(){let e=document.createElement("canvas");e.width=t,e.height=o,e.getContext("2d").drawImage(r,0,0,t,o),n(e.toDataURL("image/png"))},r.onerror=e=>l(e),r.src=e})}(e,t,o);return await I(n,r),r}let j={class:"drawer-body"},D=["onClick","src"],P=(0,u.aZ)({__name:"LikeImageList",props:{bgImgSrc:{},setBgImgSrc:{type:Function}},setup(e){let[t,o]=(0,g.Rr)("new-tab.list",{defaultValue:[]}),[n,l]=(0,g.Rr)("new-tab.fetch-background-image-date",{defaultValue:""}),[r,i]=(0,g.Rr)("new-tab.pick-from-like-list",{defaultValue:!1}),s=(0,u.iH)([]),c=e=>{s.value=e.reverse(),o(e.map(e=>e.url))};(0,u.bv)(async()=>{var e,o,n;if(!s.value||!((null===(e=s.value)||void 0===e?void 0:e.length)>0))(null===(o=t.value)||void 0===o?void 0:o.some(e=>"string"==typeof e))&&c(await Promise.all(null===(n=t.value)||void 0===n?void 0:n.map(async e=>{let t="string"==typeof e?e:e.url,o=await L(t);return{url:t,thumbnailData:o}}))),await new Promise(e=>setTimeout(e,200)),d()});let d=async()=>{var t;let o=a()().format("YYYY-MM-DD");if(n.value===o&&e.bgImgSrc)return;let i=r.value?null===(t=function(e){if(0===e.length)return;let t=Math.floor(Math.random()*e.length);return console.log(t),e[t]}(s.value))||void 0===t?void 0:t.url:void 0;!i&&(i=await fetch("https://api.timelessq.com/bing").then(e=>e.url)),e.setBgImgSrc(i),l(o)},m=(0,u.iH)(!1),_=()=>{m.value=!0},M=async t=>{if(e.setBgImgSrc(t.url),!t.thumbnailData){let e=await L(t.url),o=s.value?(0,u.IU)(s.value):[],n=o.find(e=>e.url===t.url);n&&(n.thumbnailData=e),c(o)}},I=async()=>{let t=await fetch("https://api.timelessq.com/bing/random").then(e=>e.url);e.setBgImgSrc(t)},F=async()=>{let{bgImgSrc:t}=e,o=s.value?(0,u.IU)(s.value):[];if(null==o?void 0:o.some(e=>(null==e?void 0:e.url)===t))o=o.filter(e=>(null==e?void 0:e.url)!==t);else{let e=await L(t||"");o.push({url:t||"",thumbnailData:e||""})}c(o)},P=e=>{let t="string"==typeof e?e:e.url||"",o=s.value?(0,u.IU)(s.value):[];c(o=o.filter(e=>(null==e?void 0:e.url)!==t))};return(e,t)=>((0,u.wg)(),(0,u.iD)(u.HY,null,[(0,u.Wm)((0,u.SU)(S.Z),null,{default:(0,u.w5)(()=>[(0,u.Wm)((0,u.SU)(v.ZP),{round:"",type:"primary",onClick:_},{default:(0,u.w5)(()=>[(0,u.Uk)(" \u6536\u85CF\u5217\u8868 ")]),_:1}),(0,u.Wm)((0,u.SU)(b.Z),{trigger:"hover"},{trigger:(0,u.w5)(()=>[(0,u.Wm)((0,u.SU)(v.ZP),{quaternary:"",circle:"",type:"success",onClick:F},{icon:(0,u.w5)(()=>[(0,u.Wm)((0,u.SU)(y.g),{size:"30"},{default:(0,u.w5)(()=>{var t;return[(null===(t=s.value)||void 0===t?void 0:t.some(t=>(null==t?void 0:t.url)===e.bgImgSrc))?((0,u.wg)(),(0,u.j4)((0,u.SU)(w.Z),{key:0})):((0,u.wg)(),(0,u.j4)((0,u.SU)(h.Z),{key:1}))]}),_:1})]),_:1})]),default:(0,u.w5)(()=>{var t;return[(0,u.Uk)(" "+(0,u.zw)((null===(t=s.value)||void 0===t?void 0:t.some(t=>(null==t?void 0:t.url)===e.bgImgSrc))?"\u4E0D\u518D\u559C\u6B22":"\u559C\u6B22\u6B64\u80CC\u666F"),1)]}),_:1}),(0,u.Wm)((0,u.SU)(b.Z),{trigger:"hover"},{trigger:(0,u.w5)(()=>[(0,u.Wm)((0,u.SU)(v.ZP),{quaternary:"",circle:"",type:"success",onClick:I},{icon:(0,u.w5)(()=>[(0,u.Wm)((0,u.SU)(y.g),{size:"30"},{default:(0,u.w5)(()=>[(0,u.Wm)((0,u.SU)(f.Z))]),_:1})]),_:1})]),default:(0,u.w5)(()=>[(0,u.Uk)(" \u968F\u673A\u80CC\u666F ")]),_:1})]),_:1}),(0,u.Wm)((0,u.SU)(C.Z),{show:m.value,"onUpdate:show":t[1]||(t[1]=e=>m.value=e),"default-width":400,placement:"left",resizable:""},{default:(0,u.w5)(()=>[(0,u.Wm)((0,u.SU)(x.Z),{title:"\u6536\u85CF\u5217\u8868"},{default:(0,u.w5)(()=>[(0,u._)("div",j,[(0,u._)("div",null,[(0,u.Wm)((0,u.SU)(k.Z),{checked:(0,u.SU)(r),"onUpdate:checked":t[0]||(t[0]=e=>(0,u.dq)(r)?r.value=e:null),onChange:(0,u.SU)(i)},{default:(0,u.w5)(()=>[(0,u.Uk)(" \u6BCF\u65E5\u5237\u65B0\u4ECE\u5217\u8868\u4E2D\u968F\u673A ")]),_:1},8,["checked","onChange"])]),((0,u.wg)(!0),(0,u.iD)(u.HY,null,(0,u.Ko)(s.value,(t,o)=>((0,u.wg)(),(0,u.j4)((0,u.SU)(U.ZP),{key:o,hoverable:"",class:(0,u.C_)(["image-item",t.url===e.bgImgSrc?"active":""])},{cover:(0,u.w5)(()=>[(0,u._)("img",{onClick:e=>M(t),height:"200",src:t.thumbnailData||t.url,style:{cursor:"pointer"}},null,8,D)]),default:(0,u.w5)(()=>[(0,u.Wm)((0,u.SU)(v.ZP),{quaternary:"",circle:"",type:"success",onClick:e=>P(t)},{icon:(0,u.w5)(()=>[(0,u.Wm)((0,u.SU)(y.g),{size:"20"},{default:(0,u.w5)(()=>[(0,u.Wm)((0,u.SU)(p.Z))]),_:1})]),_:2},1032,["onClick"])]),_:2},1032,["class"]))),128))])]),_:1})]),_:1},8,["show"])],64))}});var H=o("8035"),T=o.n(H);let B=["innerHTML"],O=(0,u.aZ)({__name:"Time",setup(e){a().locale(T());let t=(0,u.iH)(""),o=(0,u.iH)(""),n=null;function l(){let e=a()();t.value=e.format("HH:mm"),o.value=`\u{4ECA}\u{5929}\u{662F} <strong>${e.year()}</strong> \u{5E74} <strong>${e.month()+1}</strong> \u{6708} <strong>${e.date()}</strong> \u{65E5} <strong>${e.format("dddd")}</strong>`}return(0,u.wF)(()=>{l(),n=setInterval(l,1e3)}),(0,u.SK)(()=>{clearInterval(n)}),(e,n)=>((0,u.wg)(),(0,u.iD)(u.HY,null,[(0,u._)("h1",null,(0,u.zw)(t.value),1),(0,u._)("p",{innerHTML:o.value},null,8,B)],64))}}),Z=(0,o("2417").default)(O,[["__scopeId","data-v-54ffd130"]]);var $=o("7515");let z={copy:[{selector:"document",texts:["\u4F60\u90FD\u590D\u5236\u4E86\u4E9B\u4EC0\u4E48\u5440\uFF0C\u8F6C\u8F7D\u8981\u8BB0\u5F97\u52A0\u4E0A\u51FA\u5904\u54E6\uFF01"]}],visibilitychange:[{selector:"document",texts:["\u54C7\uFF0C\u4F60\u7EC8\u4E8E\u56DE\u6765\u4E86\uFF5E"]}],mouseover:[{selector:".vue-live2d-tool .custom-fa-comment",texts:["\u731C\u731C\u6211\u8981\u8BF4\u4E9B\u4EC0\u4E48\uFF1F","\u6B23\u8D4F\u4E00\u4E9B\u6709\u610F\u601D\u7684\u77ED\u53E5\uFF1F"]},{selector:".vue-live2d-tool .custom-fa-user-circle",texts:["\u60F3\u770B\u770B\u6211\u7684\u670B\u53CB\u4EEC\u5417\uFF1F"]},{selector:".vue-live2d-tool .custom-fa-street-view",texts:["\u53D8\u88C5\uFF01"]},{selector:".vue-live2d-tool .custom-fa-camera-retro",texts:["\u4E00\u8D77\u62CD\u7167\u7559\u5FF5\uFF1F"]},{selector:".vue-live2d-tool .custom-fa-info-circle",texts:["(\uFF3E\uFF35\uFF3E)\u30CE~\uFF39\uFF2F"]},{selector:".vue-live2d-tool .custom-fa-times",texts:["\u5C31\u8981\u8BF4\u518D\u89C1\u4E86\u5417\uFF1F"]}]},W=["innerHTML"],Y=["id","width","height"],N={class:"vue3-live2d-tool"},R=["innerHTML","onClick"],E=[(0,u._)("span",null,"\u770B\u677F\u5A18",-1)],V=(0,u.aZ)({__name:"index",props:(0,u.Vf)({isLeft:{default:!1,type:Boolean},isTipBottom:{default:!1,type:Boolean},customId:{default:"vue3-live2d-main",type:String},apiPath:{default:"/vue3-live2d-static-api/indexes",type:String},model:{default:()=>["Potion-Maker/Pio","school-2017-costume-yellow"],type:Array},setModel:{default:()=>{},type:Function},homePage:{default:"https://github.com/double2kill/new-tab-extension",type:String},tips:{default:()=>z,type:Object},mainShow:{default:!0,type:Boolean},setMainShow:{default:()=>{},type:Function}},{width:{default:400},widthModifiers:{},height:{default:400},heightModifiers:{},resolution:{default:1},resolutionModifiers:{}}),emits:["update:width","update:height","update:resolution"],setup(e){let t=(0,u.tT)(e,"width"),o=(0,u.tT)(e,"height"),n=(0,u.tT)(e,"resolution"),{apiPath:l,customId:r,isLeft:a,homePage:i,model:s,isTipBottom:c,tips:d,setModel:m}=e,v=null,g=(0,u.iH)({tip:!1,main:!0,tool:!1,toggle:!1}),w="\u770B\u677F\u5A18",h="",f="",p=[{className:"custom-fa-comment",svg:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" height="20px" width="20px">\x3c!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --\x3e<path d="M256 32C114.6 32 0 125.1 0 240c0 49.6 21.4 95 57 130.7C44.5 421.1 2.7 466 2.2 466.5c-2.2 2.3-2.8 5.7-1.5 8.7S4.8 480 8 480c66.3 0 116-31.8 140.6-51.4 32.7 12.3 69 19.4 107.4 19.4 141.4 0 256-93.1 256-208S397.4 32 256 32z"/></svg>',click:function(){_({url:"https://v1.hitokoto.cn",success:e=>{let{hitokoto:t,id:o,creator:n,from:l}=e;y(`${t} <br> - by <a href="https://hitokoto.cn?id=${o}">${n}</a> from \u{300A}${l} \u{300B}`)}})}},{className:"custom-fa-user-circle",svg:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512" height="20px" width="20px">\x3c!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --\x3e<path d="M248 8C111 8 0 119 0 256s111 248 248 248 248-111 248-248S385 8 248 8zm0 96c48.6 0 88 39.4 88 88s-39.4 88-88 88-88-39.4-88-88 39.4-88 88-88zm0 344c-58.7 0-111.3-26.6-146.5-68.2 18.8-35.4 55.6-59.8 98.5-59.8 2.4 0 4.8.4 7.1 1.1 13 4.2 26.6 6.9 40.9 6.9 14.3 0 28-2.7 40.9-6.9 2.3-.7 4.7-1.1 7.1-1.1 42.9 0 79.7 24.4 98.5 59.8C359.3 421.4 306.7 448 248 448z"/></svg>',click:function(){_({url:`${l}/models.json`,success:e=>{let t=e.filter(e=>{let{modelPath:t}=e;return h!==t}),{modelPath:o,modelIntroduce:n}=t[Math.floor(Math.random()*t.length)];h!==o&&(m([h,f]),h=o),y(`${n}`,4e3),b(!0)}})}},{className:"custom-fa-street-view",svg:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" height="20px" width="20px">\x3c!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --\x3e<path d="M367.9 329.76c-4.62 5.3-9.78 10.1-15.9 13.65v22.94c66.52 9.34 112 28.05 112 49.65 0 30.93-93.12 56-208 56S48 446.93 48 416c0-21.6 45.48-40.3 112-49.65v-22.94c-6.12-3.55-11.28-8.35-15.9-13.65C58.87 345.34 0 378.05 0 416c0 53.02 114.62 96 256 96s256-42.98 256-96c0-37.95-58.87-70.66-144.1-86.24zM256 128c35.35 0 64-28.65 64-64S291.35 0 256 0s-64 28.65-64 64 28.65 64 64 64zm-64 192v96c0 17.67 14.33 32 32 32h64c17.67 0 32-14.33 32-32v-96c17.67 0 32-14.33 32-32v-96c0-26.51-21.49-48-48-48h-11.8c-11.07 5.03-23.26 8-36.2 8s-25.13-2.97-36.2-8H208c-26.51 0-48 21.49-48 48v96c0 17.67 14.33 32 32 32z"/></svg>',click:b},{className:"custom-fa-camera-retro",svg:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" height="20px" width="20px">\x3c!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --\x3e<path d="M48 32C21.5 32 0 53.5 0 80v352c0 26.5 21.5 48 48 48h416c26.5 0 48-21.5 48-48V80c0-26.5-21.5-48-48-48H48zm0 32h106c3.3 0 6 2.7 6 6v20c0 3.3-2.7 6-6 6H38c-3.3 0-6-2.7-6-6V80c0-8.8 7.2-16 16-16zm426 96H38c-3.3 0-6-2.7-6-6v-36c0-3.3 2.7-6 6-6h138l30.2-45.3c1.1-1.7 3-2.7 5-2.7H464c8.8 0 16 7.2 16 16v74c0 3.3-2.7 6-6 6zM256 424c-66.2 0-120-53.8-120-120s53.8-120 120-120 120 53.8 120 120-53.8 120-120 120zm0-208c-48.5 0-88 39.5-88 88s39.5 88 88 88 88-39.5 88-88-39.5-88-88-88zm-48 104c-8.8 0-16-7.2-16-16 0-35.3 28.7-64 64-64 8.8 0 16 7.2 16 16s-7.2 16-16 16c-17.6 0-32 14.4-32 32 0 8.8-7.2 16-16 16z"/></svg>',click:function(){y("\u7167\u597D\u4E86\u561B\uFF0C\u7559\u4E2A\u7EAA\u5FF5\u5416~"),window.Live2D.captureName="photo.png",window.Live2D.captureFrame=!0}},{className:"custom-fa-info-circle",svg:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" height="20px" width="20px">\x3c!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --\x3e<path d="M256 8C119.043 8 8 119.083 8 256c0 136.997 111.043 248 248 248s248-111.003 248-248C504 119.083 392.957 8 256 8zm0 110c23.196 0 42 18.804 42 42s-18.804 42-42 42-42-18.804-42-42 18.804-42 42-42zm56 254c0 6.627-5.373 12-12 12h-88c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h12v-64h-12c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h64c6.627 0 12 5.373 12 12v100h12c6.627 0 12 5.373 12 12v24z"/></svg>',click:function(){open(i)}},{className:"custom-fa-times",svg:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="-40 -40 432 592" fill="currentColor" height="20px" width="20px">\x3c!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --\x3e<path d="M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"/></svg>',click:function(){g.value.main=!1,e.setMainShow(!1)}}];function S(){window.loadlive2d&&l&&h&&f&&(window.loadlive2d(r,`${l}/${h}/${f}.json`),console.log(`Live2D \u{6A21}\u{578B} ${h}\u{FF0C}\u{670D}\u{88C5} ${f} \u{52A0}\u{8F7D}\u{5B8C}\u{6210}`))}function b(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];_({url:`${l}/${h}/textures.json`,success:t=>{let o=t.filter(e=>f!==e),n=o[Math.floor(Math.random()*o.length)];f!==n&&(m([h,n]),f=n),S(),!e&&y("\u6211\u7684\u65B0\u8863\u670D\u597D\u770B\u561B\uFF1F",4e3)}})}function y(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:6e3;v?(clearTimeout(v),v=null):g.value.tip=!0,w=e,v=setTimeout(()=>{g.value.tip=!1,v=null},t)}function C(){g.value.main=!0,e.setMainShow(!0)}function x(){g.value.tool=!1}function k(){g.value.tool=!0}function U(){for(let e in d)for(let{selector:t,texts:o}of d[e]){let n="document"===t?document:document.querySelector(t);if(null!=n)n.addEventListener(e,()=>{y(o[Math.floor(Math.random()*o.length)],2e3)})}}async function _(e){let{url:t,success:o}=e,{data:n}=await $.Z.get(t);o&&o(n)}let M=(0,u.Fl)(()=>t.value*n.value),I=(0,u.Fl)(()=>o.value*n.value),F=(0,u.Fl)(()=>e.mainShow&&g.value.tip),L=(0,u.Fl)(()=>e.mainShow&&g.value.tool),j=(0,u.Fl)(()=>!e.mainShow);(0,u.bv)(async()=>{[h,f]=s,S(),(0,u.Y3)(U)});let D=(0,u.iH)(!0);function P(){D.value=!1,(0,u.Y3)(()=>{D.value=!0,(0,u.Y3)(()=>{S()})})}return(0,u.YP)(M,P),(0,u.YP)(I,P),(n,l)=>((0,u.wg)(),(0,u.iD)("div",{class:(0,u.C_)(["vue3-live2d",[(0,u.SU)(a)?"vue3-live2d-on-left":"vue3-live2d-on-right"]]),style:(0,u.j5)({width:`${t.value}px`,height:`${o.value}px`}),onMouseover:k,onMouseout:x},[(0,u.wy)((0,u._)("div",{innerHTML:(0,u.SU)(w),class:(0,u.C_)(["vue3-live2d-tip",[(0,u.SU)(c)?"vue3-live2d-tip-on-bottom":"vue3-live2d-tip-on-top"]])},null,10,W),[[u.F8,(0,u.SU)(F)]]),(0,u.SU)(D)?(0,u.wy)(((0,u.wg)(),(0,u.iD)("canvas",{key:0,id:(0,u.SU)(r),class:(0,u.C_)(["'vue3-live2d-main'",[(0,u.SU)(a)?"vue3-live2d-main-on-left":"vue3-live2d-main-on-right"]]),style:(0,u.j5)({width:`${t.value}px`,height:`${o.value}px`}),width:(0,u.SU)(M),height:(0,u.SU)(I)},null,14,Y)),[[u.F8,e.mainShow]]):(0,u.kq)("",!0),(0,u.wy)((0,u._)("div",N,[((0,u.wg)(!0),(0,u.iD)(u.HY,null,(0,u.Ko)((0,u.SU)(p),(e,t)=>((0,u.wg)(),(0,u.iD)("span",{key:t,class:(0,u.C_)(e.className),innerHTML:e.svg,onClick:e.click},null,10,R))),128))],512),[[u.F8,(0,u.SU)(L)]]),(0,u.wy)((0,u._)("div",{onClick:C,class:(0,u.C_)(["vue3-live2d-toggle",[(0,u.SU)(a)?"vue3-live2d-toggle-on-left":"vue3-live2d-toggle-on-right"]])},E,2),[[u.F8,(0,u.SU)(j)]])],38))}});var q=o("8218"),A=o("6895");o("6056");let K=window.chrome&&window.chrome.storage,J={set(e,t){t="object"==typeof t?JSON.stringify(t):t,window.localStorage.setItem(e,t)},async get(e){let t=window.localStorage.getItem(e);try{return JSON.parse(t)}catch(e){return t}}},G=e=>K?new Promise(t=>{window.chrome.storage.local.get([e],o=>{t(o[e])})}):J.get(e);(n=l||(l={})).springyEmojiCursor="springyEmojiCursor",n.fairyDustCursor="fairyDustCursor",n.snowflakeCursor="snowflakeCursor",n.characterCursor="characterCursor",n.trailingCursor="trailingCursor",n.followingDotCursor="followingDotCursor",n.bubbleCursor="bubbleCursor",n.emojiCursor="emojiCursor",n.ghostCursor="ghostCursor",n.rainbowCursor="rainbowCursor",n.clockCursor="clockCursor",n.textFlag="textFlag";let Q=null,{message:X}=(0,A.M)(["message"]),ee=async(e,t)=>{let o=e;if(null==Q||Q.destroy(),!o&&(o=await G("NEW_TAB_CURSOR_EFFECT")),!!o)switch(t&&X.info("\u9F20\u6807\u6548\u679C\u4FEE\u6539\u540E\u9700\u8981\u5237\u65B0\u9875\u9762\u624D\u80FD\u751F\u6548"),o){case"springyEmojiCursor":Q=(0,q.Gu)({});return;case"fairyDustCursor":Q=(0,q.f4)({});return;case"snowflakeCursor":Q=(0,q.be)({});return;case"characterCursor":Q=(0,q.Be)({});return;case"trailingCursor":Q=(0,q.n8)({});return;case"followingDotCursor":Q=(0,q.Y2)({});return;case"bubbleCursor":Q=(0,q.gR)({});return;case"emojiCursor":Q=(0,q.y5)({});return;case"ghostCursor":Q=(0,q.$N)({});return;case"rainbowCursor":Q=(0,q.Hy)({});return;case"clockCursor":Q=(0,q.N$)({});return;case"textFlag":Q=(0,q.$E)({});return}},et=["src"],eo={class:"app"},en={style:{width:"600px",margin:"0 auto","margin-bottom":"10px"}},el={style:{width:"200px"}},er={class:"settings"},ea=(0,u.aZ)({__name:"NewTab",setup(e){let t=(e,t)=>(e=Math.ceil(e),Math.floor(Math.random()*((t=Math.floor(t))-e+1))+e),o=(0,u.iH)(),n=()=>{localStorage.setItem("new-tab.wai.deg",o.value.toString())},[l,r]=(0,g.Rr)("new-tab.wai.mode",{defaultValue:"random"}),[a,i]=(0,g.Rr)("new-tab.background-image",{defaultValue:""}),s=(0,u.Fl)(()=>"fixed"===l.value);(0,u.bv)(async()=>{ee(),o.value=localStorage.getItem("new-tab.wai.deg")?parseInt(localStorage.getItem("new-tab.wai.deg")):t(-180,180)});let w=e=>{if(e){r("fixed"),localStorage.setItem("new-tab.wai.deg",o.value.toString());return}r("random"),localStorage.removeItem("new-tab.wai.deg"),o.value=t(-180,180)};(0,u.iH)({mouseover:[{selector:".vue3-live2d",texts:["\u8BF7\u67E5\u770B\u6E90\u4EE3\u7801\u4E86\u89E3\u5982\u4F55\u4FEE\u6539\u9ED8\u8BA4\u8BED\u53E5"]}]});let[h,f]=(0,g.Rr)("new-tab.live2d.model",{defaultValue:["Potion-Maker/Pio","school-2017-costume-yellow"]}),[p,S]=(0,g.Rr)("new-tab.live2d.visible",{defaultValue:!0}),b=()=>{if(chrome){chrome.tabs.create({url:"/build/options.html"});return}location.href.includes("localhost")&&window.open("/options")};return(e,t)=>((0,u.wg)(),(0,u.iD)(u.HY,null,[(0,u.SU)(a)?((0,u.wg)(),(0,u.iD)("img",{key:0,class:"background-item",src:(0,u.SU)(a),alt:"Bing\u6BCF\u65E5\u58C1\u7EB8UHD\u8D85\u9AD8\u6E05\u539F\u56FE"},null,8,et)):(0,u.kq)("",!0),(0,u._)("div",eo,[(0,u._)("div",{class:"center-above",style:(0,u.j5)(`transform: rotate(${-o.value}deg)`)},[(0,u.Wm)(Z)],4),(0,u._)("div",en,[(0,u.Wm)((0,u.SU)(c.Z),{value:s.value,"onUpdate:value":[t[1]||(t[1]=e=>s.value=e),w],style:{"margin-bottom":"10px"}},{checked:(0,u.w5)(()=>[(0,u.Wm)((0,u.SU)(d.ZP),null,{trigger:(0,u.w5)(()=>[(0,u.Uk)(" \u56FA\u5B9A\u89D2\u5EA6 ")]),default:(0,u.w5)(()=>[(0,u._)("div",el,[(0,u.Wm)((0,u.SU)(m.Z),{value:o.value,"onUpdate:value":[t[0]||(t[0]=e=>o.value=e),n],min:-180,max:180},null,8,["value"])])]),_:1})]),unchecked:(0,u.w5)(()=>[(0,u.Uk)(" \u968F\u673A\u89D2\u5EA6 ")]),_:1},8,["value"])]),(0,u._)("div",er,[(0,u.Wm)((0,u.SU)(v.ZP),{round:"",type:"primary",onClick:b},{default:(0,u.w5)(()=>[(0,u.Uk)(" \u8BBE\u7F6E ")]),_:1}),(0,u.Wm)(P,{bgImgSrc:(0,u.SU)(a),setBgImgSrc:(0,u.SU)(i)},null,8,["bgImgSrc","setBgImgSrc"])]),(0,u.Wm)(V,{class:"live2d",width:300,height:300,resolution:2,style:{position:"fixed",bottom:0,right:0,zIndex:1},"api-path":"https://evgo2017.com/api/live2d-static-api/indexes",model:(0,u.SU)(h),setModel:(0,u.SU)(f),mainShow:(0,u.SU)(p),setMainShow:(0,u.SU)(S)},null,8,["model","setModel","mainShow","setMainShow"])])],64))}}),ei=(0,u.aZ)({__name:"App",setup:e=>(e,t)=>((0,u.wg)(),(0,u.j4)(ea))});a().extend(s()),(0,u.ri)(ei).mount("#app")}},t={};function o(n){var l=t[n];if(void 0!==l)return l.exports;var r=t[n]={id:n,loaded:!1,exports:{}};return e[n].call(r.exports,r,r.exports,o),r.loaded=!0,r.exports}o.m=e,o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,{a:t}),t},o.d=function(e,t){for(var n in t)o.o(t,n)&&!o.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},o.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||Function("return this")()}catch(e){if("object"==typeof window)return window}}(),o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.nmd=function(e){return e.paths=[],!e.children&&(e.children=[]),e},(()=>{var e=[];o.O=function(t,n,l,r){if(n){r=r||0;for(var a=e.length;a>0&&e[a-1][2]>r;a--)e[a]=e[a-1];e[a]=[n,l,r];return}for(var i=1/0,a=0;a<e.length;a++){for(var n=e[a][0],l=e[a][1],r=e[a][2],s=!0,u=0;u<n.length;u++)(!1&r||i>=r)&&Object.keys(o.O).every(function(e){return o.O[e](n[u])})?n.splice(u--,1):(s=!1,r<i&&(i=r));if(s){e.splice(a--,1);var c=l();void 0!==c&&(t=c)}}return t}})(),o.rv=function(){return"1.0.0-beta.5"},(()=>{var e={980:0};o.O.j=function(t){return 0===e[t]};var t=function(t,n){var l=n[0],r=n[1],a=n[2],i,s,u=0;if(l.some(function(t){return 0!==e[t]})){for(i in r)o.o(r,i)&&(o.m[i]=r[i]);if(a)var c=a(o)}for(t&&t(n);u<l.length;u++)s=l[u],o.o(e,s)&&e[s]&&e[s][0](),e[s]=0;return o.O(c)},n=self.webpackChunknew_tab_extension=self.webpackChunknew_tab_extension||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})(),o.ruid="bundler=rspack@1.0.0-beta.5";var n=o.O(void 0,["139","707","72","710","470"],function(){return o("3618")});n=o.O(n)})();